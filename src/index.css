@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222 47% 6%;
    --foreground: 210 40% 96%;

    --card: 222 47% 8%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 8%;
    --popover-foreground: 210 40% 98%;

    --primary: 263 70% 50%;
    --primary-foreground: 0 0% 100%;

    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;

    --accent: 330 80% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;

    --warning: 43 96% 56%;
    --warning-foreground: 0 0% 0%;

    --border: 217 33% 20%;
    --input: 217 33% 17%;
    --ring: 263 70% 50%;

    --radius: 1rem;

    --sidebar-background: 222 47% 5%;
    --sidebar-foreground: 210 40% 96%;
    --sidebar-primary: 263 70% 50%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 33% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 17%;
    --sidebar-ring: 263 70% 50%;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(263 70% 50%), hsl(330 80% 60%));
    --gradient-success: linear-gradient(135deg, hsl(160 84% 39%), hsl(160 84% 50%));
    --gradient-card: linear-gradient(145deg, hsl(222 47% 10%), hsl(222 47% 6%));

    /* Glows */
    --glow-primary: 0 0 20px hsla(263, 70%, 50%, 0.4);
    --glow-accent: 0 0 20px hsla(330, 80%, 60%, 0.4);
    --glow-success: 0 0 15px hsla(160, 84%, 39%, 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Poppins', sans-serif;
  }

  .font-display {
    font-family: 'Poppins', sans-serif;
  }

  .font-quote {
    font-family: 'Playfair Display', serif;
  }
}

@layer components {
  /* Premium Buttons */
  .btn-primary {
    @apply relative overflow-hidden text-white font-semibold py-3 px-4 sm:px-6 rounded-xl shadow-lg transition-all duration-300 w-full sm:w-auto text-center;
    background: linear-gradient(135deg, hsl(263 70% 50%), hsl(330 80% 60%));
  }

  .btn-primary:hover {
    @apply -translate-y-1;
    box-shadow: 0 10px 30px -10px hsla(263, 70%, 50%, 0.5), var(--glow-primary);
  }

  .btn-primary:active {
    @apply scale-[0.98];
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed transform-none;
    box-shadow: none;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/80 transition-all duration-300 font-medium py-3 px-4 sm:px-6 rounded-xl border border-border w-full sm:w-auto text-center;
  }

  .btn-secondary:hover {
    @apply border-primary/50;
  }

  .btn-secondary:active {
    @apply scale-[0.98];
  }

  .btn-ghost {
    @apply text-muted-foreground hover:text-foreground transition-colors duration-200;
  }

  /* Premium Cards */
  .card-premium {
    @apply relative bg-card rounded-xl sm:rounded-2xl border border-border/50 p-4 sm:p-6 lg:p-8 transition-all duration-300 overflow-hidden;
    box-shadow: 0 4px 20px -5px rgba(0, 0, 0, 0.3);
  }

  .card-premium::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300 pointer-events-none rounded-xl sm:rounded-2xl;
    background: linear-gradient(135deg, hsla(263, 70%, 50%, 0.1), hsla(330, 80%, 60%, 0.1));
  }

  .card-premium:hover::before {
    @apply opacity-100;
  }

  @media (hover: hover) {
    .card-premium:hover {
      @apply border-primary/30;
      box-shadow: 0 12px 40px -10px rgba(0, 0, 0, 0.4), var(--glow-primary);
      transform: translateY(-4px);
    }
  }

  .card-gradient {
    @apply relative bg-card rounded-2xl border border-border/50 p-8 overflow-hidden;
    background: linear-gradient(145deg, hsl(222 47% 10%), hsl(222 47% 6%));
  }

  /* Gradients */
  .gradient-primary {
    background: linear-gradient(135deg, hsl(263 70% 50%), hsl(330 80% 60%));
  }

  .gradient-success {
    background: linear-gradient(135deg, hsl(160 84% 39%), hsl(160 84% 50%));
  }

  .gradient-gold {
    background: linear-gradient(135deg, hsl(43 96% 56%), hsl(38 92% 50%));
  }

  .text-gradient {
    @apply bg-clip-text text-transparent;
    background: linear-gradient(135deg, hsl(263 70% 50%), hsl(330 80% 60%));
  }

  .text-gradient-gold {
    @apply bg-clip-text text-transparent;
    background: linear-gradient(135deg, hsl(43 96% 56%), hsl(38 92% 50%));
  }

  /* Progress Bar */
  .progress-bar {
    @apply h-2 rounded-full bg-secondary overflow-hidden;
  }

  .progress-fill {
    @apply h-full rounded-full transition-all duration-700 ease-out;
    background: linear-gradient(90deg, hsl(263 70% 50%), hsl(330 80% 60%));
  }

  /* Badges */
  .badge-container {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium;
  }

  .badge-success {
    @apply badge-container bg-success/15 text-success border border-success/30;
  }

  .badge-warning {
    @apply badge-container bg-warning/15 text-warning border border-warning/30;
  }

  .badge-primary {
    @apply badge-container border border-primary/30;
    background: linear-gradient(135deg, hsla(263, 70%, 50%, 0.15), hsla(330, 80%, 60%, 0.15));
    color: hsl(330 80% 70%);
  }

  /* Lesson Cards */
  .lesson-card {
    @apply card-premium cursor-pointer;
  }

  .lesson-card-completed {
    @apply lesson-card border-success/40;
    background: linear-gradient(145deg, hsla(160, 84%, 39%, 0.1), hsl(222 47% 8%));
  }

  .lesson-card-locked {
    @apply lesson-card opacity-50 cursor-not-allowed;
  }

  .lesson-card-locked:hover {
    transform: none;
    box-shadow: 0 4px 20px -5px rgba(0, 0, 0, 0.3);
  }

  /* Premium Inputs */
  .input-premium {
    @apply w-full px-3 py-3 sm:px-4 sm:py-4 rounded-xl border-2 border-border bg-secondary/50 text-foreground placeholder:text-muted-foreground focus:outline-none transition-all duration-300 text-base;
  }

  .input-premium:focus {
    @apply border-primary;
    box-shadow: var(--glow-primary);
  }

  .input-premium.input-success {
    @apply border-success;
    box-shadow: var(--glow-success);
  }

  .input-premium.input-error {
    @apply border-destructive;
  }

  /* Radio Button Premium */
  .radio-premium {
    @apply relative flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl border-2 border-border bg-secondary/30 cursor-pointer transition-all duration-300 active:scale-[0.98];
  }

  .radio-premium:hover {
    @apply border-primary/50 bg-secondary/50;
  }

  .radio-premium.radio-selected {
    @apply border-primary;
    background: linear-gradient(145deg, hsla(263, 70%, 50%, 0.15), hsla(330, 80%, 60%, 0.1));
    box-shadow: var(--glow-primary);
  }

  .radio-dot {
    @apply w-5 h-5 rounded-full border-2 border-border flex items-center justify-center transition-all duration-300;
  }

  .radio-selected .radio-dot {
    @apply border-primary;
    background: linear-gradient(135deg, hsl(263 70% 50%), hsl(330 80% 60%));
  }

  /* Modal */
  .modal-overlay {
    @apply fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4;
  }

  .modal-content {
    @apply bg-card rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto border border-border;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), var(--glow-primary);
  }

  /* Question Card */
  .question-card {
    @apply relative p-4 sm:p-6 rounded-xl sm:rounded-2xl border border-border bg-secondary/20 transition-all duration-300;
  }

  .question-card.question-answered {
    @apply border-success/40;
    background: linear-gradient(145deg, hsla(160, 84%, 39%, 0.08), transparent);
  }

  .question-card.question-error {
    @apply border-destructive/40;
    animation: shake 0.4s ease-in-out;
  }

  /* Sidebar Premium */
  .sidebar-premium {
    @apply bg-sidebar rounded-2xl border border-sidebar-border p-6;
    background: linear-gradient(180deg, hsl(222 47% 8%), hsl(222 47% 5%));
  }

  /* Animations */
  .pulse-subtle {
    animation: pulse-subtle 2s ease-in-out infinite;
  }

  @keyframes pulse-subtle {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.02);
    }
  }

  .fade-in {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .slide-up {
    animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .slide-in-right {
    animation: slideInRight 0.4s ease-out forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .check-animation {
    animation: checkPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes checkPop {
    0% {
      transform: scale(0) rotate(-45deg);
    }
    50% {
      transform: scale(1.3) rotate(10deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes shake {
    0%, 100% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(-8px);
    }
    50% {
      transform: translateX(8px);
    }
    75% {
      transform: translateX(-4px);
    }
  }

  .counter-urgent {
    @apply font-mono text-2xl font-bold text-destructive;
  }

  /* Glow Effects */
  .glow-primary {
    box-shadow: var(--glow-primary);
  }

  .glow-accent {
    box-shadow: var(--glow-accent);
  }

  .glow-success {
    box-shadow: var(--glow-success);
  }

  /* Icon Container */
  .icon-container {
    @apply w-14 h-14 rounded-2xl flex items-center justify-center text-2xl;
    background: linear-gradient(145deg, hsla(263, 70%, 50%, 0.2), hsla(330, 80%, 60%, 0.2));
    border: 1px solid hsla(263, 70%, 50%, 0.3);
  }

  /* Stats Card */
  .stats-card {
    @apply relative p-5 rounded-xl border border-border/50 bg-secondary/30 transition-all duration-300;
  }

  .stats-card:hover {
    @apply border-primary/30;
    background: linear-gradient(145deg, hsla(263, 70%, 50%, 0.1), transparent);
  }

  /* Progress Ring */
  .progress-ring {
    @apply relative w-20 h-20;
  }

  .progress-ring-circle {
    stroke-linecap: round;
    transition: stroke-dashoffset 1s ease-out;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .backdrop-blur-premium {
    backdrop-filter: blur(20px) saturate(180%);
  }
}